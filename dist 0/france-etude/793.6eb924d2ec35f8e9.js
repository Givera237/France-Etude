"use strict";(self.webpackChunkFrance_Etude=self.webpackChunkFrance_Etude||[]).push([[793],{5793:(A,g,a)=>{a.r(g),a.d(g,{AuthentificationModule:()=>k});var d=a(6814),l=a(9310),r=a(95),t=a(4946),b=a(1336),p=a(9862);let m=(()=>{class n{constructor(o,e,i,s){this.router=o,this.formbuilder=e,this.cookieService=i,this.http=s}ngOnInit(){this.inscriptionForm=this.formbuilder.group({pseudo:[null,[r.kI.required,r.kI.pattern(/^(?=.*[A-Z])(?=.*[,.!?]).{6,}$/)]],email:[null,[r.kI.required]],code_confirmation:[4,[r.kI.required]]})}setVariable(o){this.variable=o}getVariable(){return this.variable}setCode(o){this.code=o}getCode(){return this.code}deconnection(o){this.http.get(`http://localhost:3000/api/logout/${o}`).subscribe(e=>{console.log(e)}),this.cookieService.setConnexion(30,"false"),this.router.navigateByUrl("")}desabonnement(o){this.http.delete(`http://localhost:3000/api/utilisateur/supprimer/${o}`).subscribe(e=>{console.log("R\xe9ponse : ",e)}),this.cookieService.delete(),this.router.navigateByUrl("")}connexion(o,e,i){this.http.post("http://localhost:3000/api/login",o,{observe:"response"}).subscribe(s=>{200===s.status&&(console.log(s),console.log("session",s.body),this.cookieService.setCookie(s.body,30),this.router.navigateByUrl(""))},s=>{404===s.status&&console.log(s),console.error(s.body)})}verification_email(o,e=this.inscriptionForm.value,i){this.http.post("http://localhost:3000/api/envoie_mail_confirmation ",o,{observe:"response"}).subscribe(c=>{200===c.status?(console.log(c.statusText),this.setVariable(o),console.log(o),this.router.navigate(["authentification/verification"])):console.log("merde combi")},c=>{console.error(c),console.log(c.error.message)})}inscription(o,e){this.http.post("http://localhost:3000/api/register",o,{observe:"response"}).subscribe(i=>{console.log("je suis entr\xe9 dans le post"),200===i.status?(console.log(i.statusText),this.router.navigateByUrl("authentification/connexion")):console.log("merde combi")},i=>{console.error(i),console.log(i.error.message)}),console.log("jai saut\xe9 le post")}static#t=this.\u0275fac=function(e){return new(e||n)(t.LFG(l.F0),t.LFG(r.qu),t.LFG(b.H),t.LFG(p.eN))};static#o=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function h(n,u){1&n&&(t.TgZ(0,"div")(1,"span",15),t._uU(2,"Le nom d'utilisateur doit contenir une majuscule et des caract\xe8res sp\xe9ciaux."),t.qZA()())}function _(n,u){if(1&n){const o=t.EpF();t.TgZ(0,"div")(1,"h3",3),t._UZ(2,"br"),t._uU(3," Hello "),t.TgZ(4,"span",4),t._uU(5),t.qZA(),t._uU(6,", comment pouvons nous vous aider? "),t._UZ(7,"br"),t.qZA(),t.TgZ(8,"div",5)(9,"div",6)(10,"div",7)(11,"button",8)(12,"strong"),t._uU(13,"D\xe9connexion"),t.qZA()()(),t.TgZ(14,"div",9)(15,"button",10)(16,"strong"),t._uU(17,"D\xe9sabonnement"),t.qZA()()(),t.TgZ(18,"div",7)(19,"a",11)(20,"button",12)(21,"strong"),t._uU(22,"Contactez nous"),t.qZA()()()()()(),t.TgZ(23,"div",13)(24,"div",14)(25,"div",15)(26,"div",16)(27,"h5",17),t._uU(28,"Deconnexion"),t.qZA(),t._UZ(29,"button",18),t.qZA(),t.TgZ(30,"div",19)(31,"p"),t._uU(32," En vous d\xe9connectant vous fermez votre session mais pourrez-vous reconnecter plus tard "),t.qZA()(),t.TgZ(33,"div",20)(34,"button",21),t.NdJ("click",function(){t.CHM(o);const i=t.oxw(2);return t.KtG(i.Deconnexion())}),t._uU(35,"Valider"),t.qZA()()()()(),t.TgZ(36,"div",22)(37,"div",14)(38,"div",15)(39,"div",16)(40,"h5",23),t._uU(41,"D\xe9sabonnement"),t.qZA(),t._UZ(42,"button",18),t.qZA(),t.TgZ(43,"div",19)(44,"p"),t._uU(45," Voulez vous supprimer votre compte ? "),t.qZA()(),t.TgZ(46,"div",20)(47,"button",21),t.NdJ("click",function(){t.CHM(o);const i=t.oxw(2);return t.KtG(i.suppresion())}),t._uU(48,"Valider"),t.qZA()()()()()()}if(2&n){const o=t.oxw(2);t.xp6(5),t.Oqu(o.pseudo)}}function x(n,u){if(1&n){const o=t.EpF();t.TgZ(0,"div",24)(1,"div",25)(2,"div",26)(3,"form",27)(4,"label",28)(5,"h4",29),t._uU(6,"Connexion"),t.qZA()(),t.TgZ(7,"span"),t._uU(8,"pseudo "),t.TgZ(9,"em"),t._uU(10,"*"),t.qZA()(),t.TgZ(11,"span"),t._uU(12),t.qZA(),t._UZ(13,"input",30),t.TgZ(14,"div",31)(15,"button",32),t.NdJ("click",function(){t.CHM(o);const i=t.oxw(2);return t.KtG(i.onSubmit())}),t._uU(16,"Connexion"),t.qZA()(),t.TgZ(17,"div",33)(18,"span",34),t._uU(19," Pas de compte, "),t.TgZ(20,"a",35),t._uU(21,"Inscrivez vous"),t.qZA()()()()()()()}if(2&n){const o=t.oxw(2);t.xp6(3),t.Q6J("formGroup",o.loginForm),t.xp6(9),t.hij("",o.erreur," ")}}function v(n,u){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,_,49,1,"div",0),t.YNc(2,x,22,2,"ng-template",null,2,t.W1O),t.qZA()),2&n){const o=t.MAs(3),e=t.oxw();t.xp6(1),t.Q6J("ngIf","true"===e.connexion)("ngIfElse",o)}}function Z(n,u){if(1&n){const o=t.EpF();t.TgZ(0,"div",24)(1,"div",25)(2,"div",26)(3,"form",27)(4,"label",28)(5,"h4",29),t._uU(6,"Connexion"),t.qZA()(),t.TgZ(7,"span"),t._uU(8,"pseudo "),t.TgZ(9,"em"),t._uU(10,"*"),t.qZA()(),t.TgZ(11,"span"),t._uU(12),t.qZA(),t._UZ(13,"input",30),t.TgZ(14,"div",31)(15,"button",32),t.NdJ("click",function(){t.CHM(o);const i=t.oxw();return t.KtG(i.onSubmit())}),t._uU(16,"Connexion"),t.qZA()(),t.TgZ(17,"div",33)(18,"span",34),t._uU(19," Pas de compte, "),t.TgZ(20,"a",35),t._uU(21,"Inscrivez vous"),t.qZA()()()()()()()}if(2&n){const o=t.oxw();t.xp6(3),t.Q6J("formGroup",o.loginForm),t.xp6(9),t.hij("",o.erreur," ")}}function T(n,u){if(1&n){const o=t.EpF();t.ynx(0),t.TgZ(1,"p",2),t._uU(2," Veuillez entrer le code envoy\xe9 \xe0 l'adresse "),t.TgZ(3,"span",3),t._uU(4),t.qZA()(),t.TgZ(5,"button",4),t._uU(6," Confirmation du code\n"),t.qZA(),t.TgZ(7,"div",5)(8,"div",6)(9,"form",7),t.NdJ("submit",function(){t.CHM(o);const i=t.oxw();return t.KtG(i.onSubmit())}),t.TgZ(10,"div",8)(11,"h5",9),t._uU(12,"Confirmer votre code"),t.qZA(),t._UZ(13,"button",10),t.qZA(),t.TgZ(14,"div",11)(15,"input",12),t.NdJ("ngModelChange",function(i){t.CHM(o);const s=t.oxw();return t.KtG(s.code_verifie=i)}),t.qZA()(),t.TgZ(16,"div",13)(17,"button",14),t._uU(18,"Close"),t.qZA(),t.TgZ(19,"button",15),t._uU(20,"V\xe9rifier"),t.qZA()()()()(),t.BQk()}if(2&n){const o=t.oxw();t.xp6(4),t.hij("",o.maVariable.email," "),t.xp6(11),t.Q6J("ngModel",o.code_verifie)}}const y=[{path:"inscription",component:(()=>{class n{constructor(o,e){this.formbuilder=o,this.authentification=e}ngOnInit(){this.erreur="",this.inscriptionForm=this.formbuilder.group({pseudo:[null,[r.kI.required,r.kI.pattern(/^(?=.*[A-Z])(?=.*[,.!?]).{6,}$/)]],email:[null,[r.kI.required]],code_confirmation:[4,[r.kI.required]]})}get usernameControl(){return this.inscriptionForm.get("pseudo")}onSubmit(){this.inscriptionForm.value.code_confirmation=Math.floor(100*Math.random());const o=this.inscriptionForm.value,e=this.inscriptionForm.value.code_confirmation;this.authentification.setCode(e),this.authentification.verification_email(o,e,this.erreur)}static#t=this.\u0275fac=function(e){return new(e||n)(t.Y36(r.qu),t.Y36(m))};static#o=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-inscription"]],decls:31,vars:4,consts:[[1,"fond",2,"margin-top","80px"],[1,"container"],[1,"col-4","col-sm-6","col-md-5","offset-0","offset-md-3","p-4","d-flex","justify-content-center"],[1,"row","g-3","cont",3,"formGroup"],["for","pseudo",1,"for-label"],[1,"fw-bold","text-center","text-white","text-uppercase"],[2,"color","white"],["type","text","formControlName","pseudo","id","pseudo","placeholder","Votre Pseudo ",1,"form-control","mt-1","mb-3","p-1"],[4,"ngIf"],["type","email","formControlName","email","id","email","placeholder","Votre Email ",1,"form-control","mt-1","mb-3","p-1"],[1,"col-6","offset-3","offset-sm-1","offset-md-2","d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary","mt-3","mb-3","text-black","btn_connexion",3,"disabled","click"],[1,"text-md-end"],[1,"text-white","text-start","text-end"],["href","authentification/connexion ",1,"text-black","rouge"],[1,"text-white"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"label",4)(5,"h4",5),t._uU(6,"INSCRIPTION"),t.qZA()(),t._UZ(7,"br")(8,"br"),t.TgZ(9,"span"),t._uU(10,"pseudo "),t.TgZ(11,"em"),t._uU(12,"*"),t.qZA()(),t.TgZ(13,"span",6),t._uU(14),t.qZA(),t._UZ(15,"input",7)(16,"br"),t.YNc(17,h,3,0,"div",8),t.TgZ(18,"span"),t._uU(19,"email "),t.TgZ(20,"em"),t._uU(21,"*"),t.qZA()(),t._UZ(22,"input",9),t.TgZ(23,"div",10)(24,"button",11),t.NdJ("click",function(){return i.onSubmit()}),t._uU(25,"Suivant"),t.qZA()(),t.TgZ(26,"div",12)(27,"span",13),t._uU(28," D\xe9j\xe0 un compte, "),t.TgZ(29,"a",14),t._uU(30,"Se connecter"),t.qZA()()()()()()()),2&e&&(t.xp6(3),t.Q6J("formGroup",i.inscriptionForm),t.xp6(11),t.hij(" ",i.erreur," "),t.xp6(3),t.Q6J("ngIf",i.usernameControl.hasError("pattern")),t.xp6(7),t.Q6J("disabled",i.inscriptionForm.invalid))},dependencies:[d.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:["form[_ngcontent-%COMP%]{margin:20px;padding:10px;height:475px}em[_ngcontent-%COMP%]{color:red}.rouge[_ngcontent-%COMP%]:hover{color:red!important}.fond[_ngcontent-%COMP%]{background-color:#d9d9d9;margin:auto auto 15px;padding:10px;width:1050px}.cont[_ngcontent-%COMP%]{background-color:#0000007d;border-radius:10%}.btn_connexion[_ngcontent-%COMP%]{background-color:#d9d9d9}.btn_connexion[_ngcontent-%COMP%]:hover{background-color:#1283eb}"]})}return n})()},{path:"connexion",component:(()=>{class n{constructor(o,e,i){this.formbuilder=o,this.cookieService=e,this.auth=i}ngOnInit(){this.erreur="",this.connexion=this.cookieService.getCookie("connexion"),this.pseudo=this.cookieService.getCookie("pseudo"),this.loginForm=this.formbuilder.group({pseudo:[null]})}existe(o){return null!=o}onSubmit(){this.auth.connexion(this.loginForm.value,this.cookie,this.erreur)}Deconnexion(){const o=+this.cookieService.getCookie("id_utilisateur");this.auth.deconnection(o)}suppresion(){const o=+this.cookieService.getCookie("id_utilisateur");this.auth.desabonnement(o)}static#t=this.\u0275fac=function(e){return new(e||n)(t.Y36(r.qu),t.Y36(b.H),t.Y36(m))};static#o=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-connexion"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["existe_pas",""],["non_connecte",""],[1,"fw-bold","text-center",2,"color","#1283EB"],[2,"color","black"],[1,"container","mt-5","mb-5"],[1,"row","d-flex","justify-content-between"],[1,"col-10","col-md-3","offset-1","text-center"],["type","button","data-bs-toggle","modal","data-bs-target","#deconnexion",1,"jello-horizontal","btn","btn-primary","bleu","btn-lg","btn_coaching","text-black",2,"background-color","white"],[1,"col-10","col-md-3","my-4","my-md-0","offset-1","text-center"],["type","button","data-bs-toggle","modal","data-bs-target","#desabonner",1,"jello-horizontal","btn","btn-primary","bleu","btn-lg","btn_coaching","text-black",2,"background-color","white"],["href","https://api.whatsapp.com/send?phone=237681195346"],["type","button",1,"jello-horizontal","btn","btn-primary","bleu","btn-lg","btn_coaching","text-black",2,"background-color","white"],["id","deconnexion","tabindex","-1","aria-labelledby","deconnexionLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","70px"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","deconnexionLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","desabonner","tabindex","-1","aria-labelledby","desabonneLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","70px"],["id","desabonneLabel",1,"modal-title"],[1,"fond",2,"margin-top","80px"],[1,"container"],[1,"col-4","col-sm-6","col-md-5","offset-0","offset-md-3","p-4","d-flex","justify-content-center"],[1,"row","g-3","cont",3,"formGroup"],["for","pseudo",1,"for-label"],[1,"fw-bold","text-center","text-white","text-uppercase"],["type","text","formControlName","pseudo","id","pseudo","placeholder","Votre Pseudo ",1,"form-control","mt-1","mb-3","p-1"],[1,"col-6","offset-3","offset-sm-1","offset-md-2","d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary","mt-3","mb-3","text-black","btn_connexion",3,"click"],[1,"text-md-end"],[1,"text-white","text-start","text-end"],["href","authentification/inscription ",1,"text-black","rouge"]],template:function(e,i){if(1&e&&(t.YNc(0,v,4,2,"div",0),t.YNc(1,Z,22,2,"ng-template",null,1,t.W1O)),2&e){const s=t.MAs(2);t.Q6J("ngIf",i.existe(i.connexion))("ngIfElse",s)}},dependencies:[d.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:["form[_ngcontent-%COMP%]{margin:20px;padding:10px;height:350px}em[_ngcontent-%COMP%]{color:red}.fond[_ngcontent-%COMP%]{background-color:#d9d9d9;margin:auto auto 15px;padding:10px;width:1050px}.bleu[_ngcontent-%COMP%]:hover{background-color:#1283eb!important}.rouge[_ngcontent-%COMP%]:hover{color:red!important}.cont[_ngcontent-%COMP%]{background-color:#0000007d;border-radius:10%}.btn_connexion[_ngcontent-%COMP%]{background-color:#d9d9d9}.btn_connexion[_ngcontent-%COMP%]:hover{background-color:#1283eb}"]})}return n})()},{path:"verification",component:(()=>{class n{constructor(o,e,i,s){this.route=o,this.router=e,this.http=i,this.authentification=s,this.essai=new FormData}ngOnInit(){this.maVariable=this.authentification.getVariable(),this.code=this.authentification.getCode()}onSubmit(){this.essai.append("code",this.code_verifie),this.code===+this.code_verifie&&this.authentification.inscription(this.maVariable,this.erreur)}static#t=this.\u0275fac=function(e){return new(e||n)(t.Y36(l.gz),t.Y36(l.F0),t.Y36(p.eN),t.Y36(m))};static#o=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-verification-email"]],decls:2,vars:1,consts:[[1,"d-flex","justify-content-center",2,"margin-top","40px","margin-bottom","20px"],[4,"ngIf"],[1,"mx-5","fw-bold","fs-5"],[2,"color","blue"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-primary"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"margin-top","80px"],[1,"modal-dialog"],[1,"modal-content",3,"submit"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["type","number","name","code",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-primary"]],template:function(e,i){1&e&&(t.TgZ(0,"section",0),t.YNc(1,T,21,2,"ng-container",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",i.maVariable))},dependencies:[d.O5,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.On,r.F]})}return n})()}];let U=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#o=this.\u0275mod=t.oAB({type:n});static#e=this.\u0275inj=t.cJS({imports:[l.Bz.forChild(y),l.Bz]})}return n})(),k=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#o=this.\u0275mod=t.oAB({type:n});static#e=this.\u0275inj=t.cJS({imports:[d.ez,U,r.UX,p.JF,r.u5]})}return n})()}}]);